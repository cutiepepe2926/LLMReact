@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css");

:root {
    --primary-blue: #3b82f6;
    --primary-light: #eff6ff;
    --text-main: #1f2937;
    --text-sub: #6b7280;
    --sidebar-width: 280px;
    --border-line: #e5e7eb;
}

/* 전체 컨테이너 */
.sidebar-container {
    width: var(--sidebar-width);
    height: 100vh;
    background-color: #ffffff;
    border-right: 1px solid var(--border-line);
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    z-index: 1000;
    font-family: 'Pretendard', sans-serif;
    box-sizing: border-box;
    position: sticky;
    top: 0;
}

/* 로고 영역 */
.sidebar-brand {
    height: 68px;
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 0 28px;
    cursor: pointer;
}

.brand-name {
    font-size: 1.25rem;
    font-weight: 800;
    color: var(--text-main);
    letter-spacing: -0.5px;
}

/* 프로젝트 컨텍스트 카드 (프로젝트 내부용) */
.project-context-card {
    margin: 0 16px 12px 16px;
    padding: 14px;
    background-color: #f9fafb;
    border-radius: 12px;
    border: 1px solid #f3f4f6;
    display: flex;
    align-items: center;
    gap: 12px;
}

.context-icon {
    width: 36px; height: 36px;
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
    border-radius: 8px;
    display: flex; justify-content: center; align-items: center;
    font-weight: 700; font-size: 1.1rem;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.25);
}

.context-info { display: flex; flex-direction: column; overflow: hidden; }
.context-label { font-size: 0.7rem; color: #9ca3af; font-weight: 700; letter-spacing: 0.5px; }
.context-title { font-size: 0.95rem; font-weight: 700; color: var(--text-main); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* 메뉴 리스트 공통 */
.sidebar-menu {
    flex: 1;
    padding: 8px 16px;
    overflow-y: auto;
}
.sidebar-menu::-webkit-scrollbar { width: 4px; }
.sidebar-menu::-webkit-scrollbar-thumb { background: transparent; }
.sidebar-menu:hover::-webkit-scrollbar-thumb { background: #e5e7eb; }

/* =========================================
   [1] 프로젝트 내부 위젯 (Status Card)
   ========================================= */
.menu-status-card {
    padding: 16px;
    margin-bottom: 24px;
    background: white;
    border-radius: 16px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* 상태 헤더 */
.status-header { display: flex; justify-content: space-between; align-items: center; }
.status-label { font-size: 0.85rem; font-weight: 700; color: #374151; }

.status-badge { font-size: 0.75rem; font-weight: 800; padding: 4px 10px; border-radius: 20px; }
.status-badge.active { color: #10b981; background: #ecfdf5; }
.status-badge.done { color: #6B7280; background: #F3F4F6; }

/* 타이머 박스 */
.timer-box {
    display: flex; align-items: center; gap: 8px;
    font-size: 0.9rem; font-weight: 600;
    color: #4f46e5; background-color: #eef2ff;
    padding: 10px 12px; border-radius: 8px;
    width: 100%; box-sizing: border-box;
}
.timer-box svg { stroke: #4f46e5; width: 18px; height: 18px; }
.timer-text { font-size: 0.9rem; font-weight: 600; color: #4F46E5; }

/* 리포트 작성 버튼 */
.daily-report-box {
    width: 100%;
    display: flex; align-items: center; gap: 12px;
    background-color: #ffffff;
    border: 1px dashed #d1d5db;
    padding: 12px; border-radius: 12px;
    cursor: pointer; box-sizing: border-box;
    transition: all 0.2s ease;
}
.daily-report-box:hover { background-color: #f9fafb; border-color: #3b82f6; }
.daily-report-box.disabled { opacity: 0.7; cursor: default; }

.report-icon-bg { display: flex; align-items: center; justify-content: center; color: #3b82f6; }
.report-icon-bg svg { width: 20px; height: 20px; }

.report-text-group { display: flex; flex-direction: column; gap: 2px; }
.report-title { font-size: 0.9rem; font-weight: 700; color: #1f2937; }
.report-action.write { font-size: 0.8rem; color: #ef4444; font-weight: 600; }
.report-action.done { font-size: 0.8rem; color: #10b981; font-weight: 600; }

/* =========================================
   [2] 메뉴 아이템 (공통)
   ========================================= */
.menu-section-label {
    padding: 20px 12px 8px 12px;
    font-size: 0.75rem; font-weight: 700; color: #9ca3af; letter-spacing: 0.5px;
}
.menu-divider { height: 1px; background-color: #f3f4f6; margin: 12px 8px; }

.menu-item {
    display: flex; align-items: center; gap: 12px;
    padding: 12px; margin-bottom: 4px;
    border-radius: 10px; cursor: pointer;
    color: var(--text-sub); font-size: 0.95rem; font-weight: 500;
    transition: all 0.2s ease;
}
.menu-item:hover { background-color: #f9fafb; color: var(--text-main); transform: translateX(4px); }
.menu-item.active { background-color: var(--primary-light); color: var(--primary-blue); font-weight: 700; }
.menu-item.active-light { background-color: #f8fafc; color: var(--text-main); } /* 토글 열렸을 때 */

.menu-icon-box {
    display: flex; align-items: center; justify-content: center;
    width: 24px; flex-shrink: 0; opacity: 0.8;
}
.menu-item.active .menu-icon-box { opacity: 1; }

/* =========================================
   [3] 메인 사이드바 토글 (복구됨)
   ========================================= */
/* 토글 화살표 회전 */
.toggle-arrow {
    margin-left: auto;
    display: flex; align-items: center;
    transition: transform 0.3s ease; opacity: 0.5;
}
.toggle-arrow.open { transform: rotate(180deg); opacity: 1; }

/* 서브 메뉴 컨테이너 (애니메이션 핵심) */
.sub-menu-container {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out, opacity 0.3s ease;
    opacity: 0;
    margin-left: 12px;
    border-left: 1px solid #f3f4f6;
}
.sub-menu-container.open {
    max-height: 500px; /* 넉넉하게 */
    opacity: 1;
    margin-bottom: 8px;
}

/* 서브 메뉴 아이템 (심플하게) */
.sub-menu-item {
    display: flex; align-items: center; gap: 8px;
    padding: 10px 16px; margin: 2px 8px;
    border-radius: 8px; cursor: pointer;
    color: var(--text-sub); font-size: 0.88rem;
    transition: all 0.2s;
}
.sub-menu-item:hover { background-color: #f9fafb; color: var(--primary-blue); padding-left: 20px; }

.sub-menu-dot { font-size: 1.2rem; line-height: 0; color: #d1d5db; }
.sub-menu-empty { padding: 12px 24px; font-size: 0.8rem; color: #9ca3af; font-style: italic; }

/* =========================================
   [4] 내 업무 & 기타
   ========================================= */
.my-tasks-container { padding: 0 8px; margin-bottom: 10px; }
.sidebar-task-item {
    display: flex; align-items: center; gap: 10px;
    padding: 10px; margin-bottom: 4px;
    border-radius: 8px; cursor: pointer;
    transition: background 0.2s;
}
.sidebar-task-item:hover { background-color: #f9fafb; }
.task-dot { width: 8px; height: 8px; background-color: #d1d5db; border-radius: 50%; flex-shrink: 0; }
.task-title { font-size: 0.9rem; color: #4b5563; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.no-tasks { padding: 10px; font-size: 0.8rem; color: #9ca3af; }

/* 뒤로가기 버튼 */
.menu-item.back-btn {
    margin-top: 10px;
    border-top: 1px solid #f3f4f6; border-radius: 0;
    padding: 16px 12px; color: #9ca3af;
}
.menu-item.back-btn:hover { transform: none; color: var(--primary-blue); background: transparent; }

/* === [My Tasks 섹션] === */
.my-tasks-container {
    padding: 0 8px;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
    gap: 4px; /* 아이템 간격 */
}

.sidebar-task-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px; /* 터치 영역 확보 */
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.sidebar-task-item:hover {
    background-color: #f9fafb;
    transform: translateX(2px); /* 살짝 움직이는 효과 */
}

/* 상태 점 (Dot) 디자인 */
.task-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
    box-shadow: 0 0 0 2px white; /* 겹칠 때 구분선 느낌 */
}

/* 우선순위별 색상 */
.task-dot.red { background-color: #EF4444; box-shadow: 0 0 4px rgba(239, 68, 68, 0.4); }
.task-dot.yellow { background-color: #F59E0B; }
.task-dot.blue { background-color: #3B82F6; }
.task-dot.gray { background-color: #D1D5DB; }

/* 텍스트 스타일 */
.task-title {
    font-size: 0.88rem;
    color: #4b5563;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* 말줄임표 (...) */
    flex: 1;
}

/* 빈 상태 메시지 */
.no-tasks {
    padding: 12px;
    font-size: 0.8rem;
    color: #9ca3af;
    text-align: center;
    font-style: italic;
    background-color: #f9fafb;
    border-radius: 8px;
    border: 1px dashed #e5e7eb;
}

/* 중요도 뱃지 공통 스타일 */
.mini-badge {
    font-size: 0.65rem;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 4px;
    margin-left: 8px; /* 제목과 간격 */
    flex-shrink: 0;
}

/* 중요도별 색상 (TaskBoard와 통일감 있게) */
.badge-high { color: #ef4444; background-color: #fee2e2; border: 1px solid #fecaca; }   /* 빨강 (상) */
.badge-medium { color: #f59e0b; background-color: #fef3c7; border: 1px solid #fde68a; } /* 노랑 (중) */
.badge-low { color: #3b82f6; background-color: #dbeafe; border: 1px solid #bfdbfe; }    /* 파랑 (하) */

/* 진행 중인 업무 텍스트 강조 */
.highlight-text {
    font-weight: 700;
    color: #b45309; /* 진한 주황색 */
}

/* 스크롤 영역 높이 조절 */
.task-scroll-area {
    max-height: 350px;
    overflow-y: auto;
    padding-right: 6px;
    margin-bottom: 15px;
}

/* 스크롤바 디자인 */
.task-scroll-area::-webkit-scrollbar { width: 5px; }
.task-scroll-area::-webkit-scrollbar-track { background: transparent; }
.task-scroll-area::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }
.task-scroll-area::-webkit-scrollbar-thumb:hover { background-color: #94a3b8; }


/* 기본 뱃지 스타일 */
.status-badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 800;
    margin-left: 8px; /* 제목 옆 간격 */
    vertical-align: middle;
    text-transform: uppercase; /* 대문자 강제 */
    letter-spacing: 0.5px;
}

/* 1. 진행 중 (ACTIVE) - 파란색 or 초록색 계열 */
.status-active {
    background-color: #E0F2FE; /* 연한 하늘색 */
    color: #0284C7;            /* 진한 파란색 */
    border: 1px solid #BAE6FD;
}

/* 2. 완료 (DONE) - 회색 계열 */
.status-done {
    background-color: #F3F4F6; /* 연한 회색 */
    color: #4B5563;            /* 진한 회색 */
    border: 1px solid #E5E7EB;
}

/* 3. 삭제 예정 (DELETE) - 빨간색 계열 */
.status-delete {
    background-color: #FEE2E2; /* 연한 빨간색 */
    color: #DC2626;            /* 진한 빨간색 */
    border: 1px solid #FECACA;
}